<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Document</title>
	</head>
	<body>
		<a href="./html/camera.html"><canvas id="particle"></canvas></a>
		<img src="" alt="" id="imgBack" />

		<style>
			* {
				margin: 0px;
				padding: 0px;
			}
			a {
				text-decoration: none;
			}
			canvas {
				/* background: #f5f1e9; */
				/* background-image: url("./assets/img/town.jpg"); */
				/* background-size: cover; */
				/* background-position: center; */
				background-color: transparent;

				width: 100vw;
				height: 100vh;
			}
			#imgBack {
				position: fixed;
				top: 0px;
				left: 0px;
				width: 100%;
				height: 100%;

				/* min-height: 100vh; */
				z-index: -10;
			}
		</style>
		<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
		<script src="./js/particleText.js"></script>
		<script type="text/javascript">
			$(function () {
				// $(window).load(function () {
				// デフォルト
				//$(".particle").particleText("PARTICLE ♡");
				// オプション
				// 改行させたい場合
				// $("#particle").particleText({
				// 	// <br>の文字列を入れてください、４行くらいはいけるはず...
				// 	text: "LOVE<br>AND<br>PEACE",
				// });
				// });
			});
		</script>
		<script type="text/javascript">
			function drawTitle() {
				isFirstLoadComplete = true;

				$("#particle").particleText({
					// 表示させたいテキスト
					text: "Airs",

					// パーティクルの色を複数指定可能
					colors: ["#00bfff"],

					// イージングのスピード。slow, middle, high の3つから選んでください。
					speed: "slow",
				});
			}

			imageSet = [
				{
					imageUrl: "./assets/img/apple.jpg",
					moshImageUrl: "./assets/img/apple_mosh.gif",
				},
				{
					imageUrl: "./assets/img/cafe.jpg",
					moshImageUrl: "./assets/img/cafe_mosh.gif",
				},
				{
					imageUrl: "./assets/img/town.jpg",
					moshImageUrl: "./assets/img/town_mosh.gif",
				},
			];

			function generateRandomNumber(min, max) {
				const rand = Math.floor(Math.random() * (max - min + 1) + min);
				return rand;
			}

			let count = 0;
			let countReset = false;
			const imgBack = $("#imgBack");
			const imgUrl = "./assets/img/town.jpg";
			const img_moshUrl = "./assets/img/town_mosh.gif";

			let isFirstLoadComplete = false;
			imgBack.on("load", function () {
				if (!isFirstLoadComplete) {
					drawTitle();
				}
			});
			imgBack.attr("src", imgUrl);

			// 画像を切り替える処理
			const displayImage = setInterval(() => {
				if (count === 0) {
					if (countReset) {
						clearInterval(countReset);
					}
					countReset = setInterval(() => {
						count = 0;
					}, generateRandomNumber(700, 2500));
				}
				if (count < 4) {
					imgBack.attr("src", img_moshUrl);
					// $("canvas").css("background-image", `url(${img_mosh.src})`);
				} else {
					imgBack.attr("src", imgUrl);
					// $("canvas").css("background-image", `url(${img.src})`);
				}
				count++;
			}, 50);
		</script>
	</body>
</html>
